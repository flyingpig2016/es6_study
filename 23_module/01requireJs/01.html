<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="../common/require.js"></script>
    <!-- 方法一 -->
    <!-- <script type="text/javascript" src="a.js"></script> -->

    <!-- 方法二 -->
    <script type="text/javascript">
        /*  require.js源码 会定义四个变量：define,require，requirejs，xpcUtil：
                其中require===requirejs,一般使用require更简短；
                define 从名字就可以看出是个api，是用来定义一个模块；
                require加载依赖模块，并执行加载完后的回调函数；
        */
        // 1. require用来加载一个模块，（注意require中的依赖是一个数组，即使只有一个依赖，你也必须使用数组来定义—）
        // 2. 使用require加载js时，加载模块时不用写.js后缀的，写后缀会报错
        // requirejs(["js/a"]); // 等价于requirejs(["js/a"]);
        // 3. require API的第二个参数是callback，用来处理加载完毕后的逻辑;
        // requirejs(["a"], function () {
        //     alert('a.js加载完毕');
        // })
        // 4. require加载一个文件,require.config用来排至模块加载的位置,可以将地址缩写为jquery;
        // 5. paths可以配置多个路径，如果远程的cdn没有加载成功，可以加载另一个库;
        // 6. callback函数中发现有$参数，这个就是依赖的jquery模块的输出变量，如果你依赖多个模块，可以依次写入多个参数来使用：
        require.config({
            paths: {
                // 'jquery': ["https://code.jquery.com", "http://libs.baidu.com/jquery/2.0.3/jquery"],
                'jquery': ["http://libs.baidu.com/jquery/2.0.3/jquery"],
                'a': 'js/a'
            }
        });

        require(['jquery', 'a'], function ($) {
            console.log($)
            $(function () {
                alert('jquery 加载完毕');
                // _.each([1, 2, 3], alert);
            });
        });

    </script>
</head>

<body>
    <p> 使用方法一：引用a.js， alert执行的时候，html内容是一片空白的，
        即<span>body</span>并未被显示，当点击确定后，才出现，
        这就是JS阻塞浏览器渲染导致的结果。
    </p>
    <p>
        使用方法二：引用a.js，alert执行的时候同时可以看到html内容
    </p>
    <span>body</span>
</body>

</html>